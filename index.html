<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>For My One And Only MADAM JII</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/gsap.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
  <style>
    html,body{height:100%;margin:0;font-family:Inter, sans-serif;background:linear-gradient(135deg,#f9a8d4,#f3e8ff);-webkit-font-smoothing:antialiased}
    #canvas-container{position:fixed;inset:0;z-index:1;pointer-events:none}
    #progress-container{position:fixed;top:20px;left:50%;transform:translateX(-50%);width:80%;max-width:420px;height:6px;background:rgba(255,255,255,.3);border-radius:3px;z-index:100}
    #progress-bar{height:100%;width:0;background:linear-gradient(90deg,#ec4899,#f43f5e);border-radius:3px;transition:width .4s ease}
    #content{position:relative;z-index:10;display:flex;height:100vh;width:100%;flex-direction:column;justify-content:center;align-items:center;padding:20px;box-sizing:border-box}
    .step{position:absolute;width:100%;max-width:900px;padding:32px;background:rgba(255,255,255,.65);backdrop-filter:blur(8px);border-radius:16px;text-align:center;opacity:0;transform:translateY(12px);transition:all .4s ease;pointer-events:none}
    .step.active{opacity:1;transform:translateY(0);pointer-events:auto}
    .btn{background:linear-gradient(135deg,#ec4899,#f43f5e);color:#fff;border:0;padding:12px 24px;border-radius:999px;cursor:pointer;font-weight:600}
  </style>
</head>
<body>
  <div id="canvas-container"></div>
  <div id="progress-container"><div id="progress-bar"></div></div>

  <div id="content">
    <!-- step 1 -->
    <div class="step active" id="step-1" role="region" aria-label="Cover">
      <div class="emoji">ğŸ’–</div>
      <h1 class="text-gradient" style="font-size:28px;font-weight:bold;">
        MY DEAREST MADAM JII ğŸ«µğŸ«¶ğŸ€
      </h1>
      <p class="text-x1 text-gray-700 mb-8">I made somethin special for youh...</p>
      <button class="btn" id="start-btn">ğŸ’Œ</button>
    </div>

    <!-- step 2: BIRTHDAY MESSAGE -->
    <div class="step" id="step-2">
      <div class="emoji heart-beat">ğŸŠ</div>
      <h2 class="text-3xl md:text-4xl font-bold mb-6 text-gradient">HAPPY BIRTHDAY MADAM JII ğŸ€ğŸ«¶ğŸ’Œ</h2>
      <p class="text-x1 text-gray-700 mb-6">Every moment spent with youh is a beautiful chapter of my life ğŸ“–âœ¨,
        and i cant imagine my world without you in it. You light up my days with your smileâœ¨ and fill my heart with endless joy ğŸ’–ğŸ’«. 
        I am so grateful for youğŸ™ and will always spend today and everday making sure you fell as special as you areğŸ€ğŸ«¶âœ¨!. 
      <p>
        <button class="btn" id="next-btn-2"> What makes youhh special ?</button>
        </div>

    <!-- step 3: REASONS WHY youh are special -->
    <div class="step" id="step-3">
      <h2 class="text-3xl md:text-4xl font-bold mb-8 text-gradient">Here's why you're inceadible</h2>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-8">
        <div class="reason-card">
          <div class="emoji text-3xl">âœ¨</div>
          <h3 class="text-xl font-bold mb-2 text-pink-600">Your Kindness</h3>
          <p class="text-gray-700">The way youhh care about mehhğŸ«¡ğŸ«¶</p>
        </div>
        <div class="reason-card">
          <div class="emoji text-3xl">ğŸ˜Š</div>
          <h3 class="text-xl font-bold mb-2 text-pink-600">Your Smile</h3>
          <p class="text-gray-700">Your smile lights up my world ğŸŒ
          </p>
        </div>
        <div class="reason-card">
          <div class="emoji text-3xl">ğŸŒŸ</div>
          <h3 class="text-xl font-bold mb-2 text-pink-600">Your Strength</h3>
          <p class="text-gray-700">Your resilience inspires me every day ğŸ’ª.</p>
        </div> 
      </div>
      <button class="btn" id="next-btn-3"> A Little Surprise !</button>
    </div>

    <!-- step 4: Memory Lane -->
    <div class="step" id="step-4">
      <div class="emoji">ğŸ“·</div>
      <h2 class="text-3xl md:text-4xl font-bold mb-6 text-gradient">Remember When...</h2>
      <div class="bg-gradient-to-r from-pink-200 to-rose-200 p-4 rounded-x1 p-8 mb-8 flex flex-col md:flex-row items-center">
        <img src="crush.webp" height="200" width="200" alt="" srcset="">
        <p class="text-1g text-gray-700 italic mt-2">(Imagine our favourite memory together here)</p>
      </div>
      <p class="text-1g text-gray-700 mb-6">
        Every moment with you becomes a cherished memory. whether we're laughing together or just enjoying the silence, time with you is always special.
      </p>
      <button class="btn" id="next-btn-4"> One Last Thing...</button>
    </div>

    <!-- step 5: Final Wish -->
    <div class="step" id="step-5">
      <div class="emoji">ğŸ‚</div>
      <h2 class="text-3xl md:text-4xl font-bold mb-6 text-gradient">My Birthday Wish For Youhh</h2>
      <p class="text-1g text-gray-700 mb-8">
        May your year be filled with joy, laughter, and dreams come true.
        May you always know how special you are to mehh and to everyone lucky enough to know youh.
        Here's to many more birthdays together! ğŸ¥‚ğŸ‰ğŸ¤
      </p>
      <p class="text-x1 font-semibold text-pink-600 mb-8">
        With all my love, now and forever. HAPPY BIRTHDAY MADAM JIIğŸ’–ğŸ«¶ğŸ€
      </p>
      <button class="btn" id="confetti-btn">Celebrate! ğŸ‰</button>
      <p class="mt-8 text-gray-500">Made with â¤ï¸ just for youhh</p>
    </div>
  </div>

  <script>
    // Three.js Heart Background
    const container = document.getElementById('canvas-container');
    const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
    renderer.setSize(window.innerWidth, window.innerHeight);
    renderer.setPixelRatio(window.devicePixelRatio || 1);
    container.appendChild(renderer.domElement);

    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
    camera.position.z = 30;

    // Improved Heart Geometry
    const x = 0, y = 0;
    const heartShape = new THREE.Shape();
    heartShape.moveTo(x + 0.5, y + 0.5);
    heartShape.bezierCurveTo(x + 0.5, y + 0.5, x + 1 , y, x, );
    heartShape.bezierCurveTo(x - 1, y, x - 1, y + 1.5, x - 1, y + 1.5);
    heartShape.bezierCurveTo(x - 1, y + 2.5, x + 0.5, y + 3.5, x + 0.5, y + 3.5);
    heartShape.bezierCurveTo(x + 0.5, y + 3.5, x + 2, y + 2.5, x + 2, y + 1.5);
    heartShape.bezierCurveTo(x + 2, y + 1.5, x + 2, y, x + 1, y);
    heartShape.bezierCurveTo(x + 0.5, y, x + 0.5, y + 0.5, x + 0.5, y + 0.5);

    const extrudeSettings = { 
      depth: 0.5,
      bevelEnabled: true,
      bevelSegments: 3,
      bevelSize: 0.2,
      bevelThickness: 0.3,
    };

    const heartGeometry = new THREE.ExtrudeGeometry(heartShape, extrudeSettings);

    // Create multiple hearts with different colors and properties
    const hearts = [];
    const colors = [
      0xff6b6b, 0xff8e8e, 0xffb3b3, 0xffd8d8, 
      0xff9e9e, 0xffc1c1, 0xff6b8e, 0xff8eb3
    ];

    for (let i = 0; i < 25; i++) {
      const material = new THREE.MeshPhongMaterial({
        color: colors[Math.floor(Math.random() * colors.length)],
        emissive: 0xff0000,
        emissiveIntensity: 0.1,
        shininess: 100,
        transparent: true,
        opacity: 0.9,
      });

      const heart = new THREE.Mesh(heartGeometry, material);

      // Random position and scale
      heart.position.x = (Math.random() - 0.5) * 50;
      heart.position.y = (Math.random() - 0.5) * 50;
      heart.position.z = (Math.random() - 0.5) * 50;

      const scale = Math.random() * 0.8 + 0.5;
      heart.scale.set(scale, scale, scale);

      // Random rotation
      heart.rotation.x = Math.random() * Math.PI;
      heart.rotation.y = Math.random() * Math.PI;

      // Store animation properties
      heart.userData = {
        speedX: Math.random() * 0.02 - 0.01,
        speedY: Math.random() * 0.02 - 0.01,
        speedZ: Math.random() * 0.02 - 0.01,
        rotationSpeed: Math.random() * 0.01,
        rotationSpeedY: Math.random() * 0.01,
        originalX: heart.position.x,
        originalY: heart.position.y,
        originalZ: heart.position.z,
        floatDistance: 2 + Math.random() * 3
      };

      scene.add(heart);
      hearts.push(heart);
    }

    // Add lights
    const ambientLight = new THREE.AmbientLight(0xffffff, 0.5);
    scene.add(ambientLight);

    const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);
    directionalLight.position.set(1, 1, 1);
    scene.add(directionalLight);

    // Animation loop
    function animate() {
      requestAnimationFrame(animate);

      // Animate hearts
      hearts.forEach(heart => {
        // Floating animation
        const time = Date.now() * 0.001;
        heart.position.x = heart.userData.originalX + Math.sin(time * heart.userData.speedX * 10) * heart.userData.floatDistance;
        heart.position.y = heart.userData.originalY + Math.sin(time * heart.userData.speedY * 10) * heart.userData.floatDistance;
        heart.position.z = heart.userData.originalZ + Math.sin(time * heart.userData.speedZ * 10) * heart.userData.floatDistance;

        // Rotation
        heart.rotation.x += heart.userData.rotationSpeedX;
        heart.rotation.y += heart.userData.rotationSpeedY;
      });
      renderer.render(scene, camera);
    }

    animate();

    // Handle window resize
    window.addEventListener('resize', () => {
      camera.aspect = window.innerWidth / window.innerHeight;
      camera.updateProjectionMatrix();
      renderer.setSize(window.innerWidth, window.innerHeight);
    });

    // Step Navigation
    let currentStep = 1;
    const totalSteps = 5;

    function updateProgressBar() {
      const progress = ((currentStep - 1) / (totalSteps - 1)) * 100;
      document.getElementById('progress-bar').style.width = `${progress}%`;
    }

    function showStep(stepNumber) {
      // Hide all steps
      document.querySelectorAll('.step').forEach(step => {
        step.classList.remove('active');
      });

      // Show the current step
      document.getElementById(`step-${stepNumber}`).classList.add('active');

      // Update progress bar
      updateProgressBar();

      // Specail effect for last step
      if (stepNumber === totalSteps) {
        document.getElementById('cofetti-btn').classList.add('animate-pulse');
      } 
    }

    // Button Event Listeners
    document.getElementById('start-btn').addEventListener('click', () => {
      currentStep = 2;
      showStep(currentStep);
    });

    document.getElementById('next-btn-2').addEventListener('click', () => {
      currentStep = 3;
      showStep(currentStep);
    });

    document.getElementById('next-btn-3').addEventListener('click', () => {
      currentStep = 4;
      showStep(currentStep);
    });

    document.getElementById('next-btn-4').addEventListener('click', () => {
      currentStep = 5;
      showStep(currentStep);
    });

    // Confetti button
    document.getElementById('confetti-btn').addEventListener('click', () => {
      confetti({
        particleCount: 150,
        spread: 70,
        origin: { y: 0.6 },
        colors: ['#ff6b6b', '#ff8e8e', '#ffb3b3', '#ffd8d8', '#ff9e9e', '#ffc1c1']
      });

      // Heart shaped confetti
      setTimeout(() => {
        confetti({
          particleCount: 30,
          spread: 60,
          origin: { y: 0.5 },
          shapes: ['heart'],
          colors: ['#ff0000', '#ff69b4', '#ff1493']
        });
      }, 300);

      // More hearts from different directions
      setTimeout(() => {
        confetti({
          particleCount: 20,
          spread: 55,
          angle: 60,
          origin: { x: 0},
          shapes: ['heart'],
          colors: ['#ff0000', '#ff69b4'] 
        });

        confetti({
          particleCount: 20,
          spread: 55,
          angle: 120,
          origin: { x: 1 },
          shapes: ['heart'],
          colors: ['#ff0000', '#ff69b4']
        });
      }, 600);

      // Make hearts float up from the background
      hearts.forEach(heart => {
        gsap.to(heart.position, {
          y: heart.position.y - 30,
          duration: 3,
          ease: "power1.out"
        });

        gsap.to(heart.material, {
          opacity: 0,
          duration: 3,
          ease: "power1.out",
        });
      });
    });

    // Initialize progress bar
    updateProgressBar();
  </script>
</body>
</html>
